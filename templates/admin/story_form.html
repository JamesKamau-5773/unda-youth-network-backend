{% extends 'admin/base.html' %}
{% import 'admin/_admin_macros.html' as macros %}

{% block content %}
{{ macros.hero_header(post and 'Edit Story' or 'Create Story', 'Success stories and community highlights') }}

{{ macros.form_card_start() }}
<form method="post">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
  <div class="form-group">
    <label class="form-label">Title</label>
    <input name="title" class="form-input" value="{{ post.title if post else '' }}" />
  </div>

  <div class="form-group">
    <label class="form-label">Excerpt</label>
    <textarea name="excerpt" class="form-input">{{ post.excerpt if post else '' }}</textarea>
  </div>

  <div class="form-group">
    <label class="form-label">Content</label>
    <textarea name="content" class="form-input">{{ post.content if post else '' }}</textarea>
  </div>

  <div class="form-group">
    <label class="form-label">Featured Image URL</label>
    <input name="featured_image" class="form-input" value="{{ post.featured_image if post else '' }}" />
  </div>

  <div class="form-group" style="display:flex; align-items:center; gap:0.75rem;">
    <input type="checkbox" name="published" value="on" id="published"
      {% if (post and post.published) or not post %}checked{% endif %}
      style="width:1.25rem; height:1.25rem;" />
    <label for="published" class="form-label" style="margin:0;">Published</label>
  </div>

  {{ macros.action_buttons('Save', url_for('admin.list_stories')) }}
</form>
{{ macros.form_card_end() }}

{% endblock %}
